<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header>
        <h1>Quản lý sản phẩm</h1>
        <nav>
            <button onclick="showHome()">🏠 Trang chủ</button>
            <button onclick="showProductList()">📦 Danh sách sản phẩm</button>
            <button onclick="toggleCart()">🛒 Giỏ hàng</button>
            <button onclick="showAdminLogin()" class="admin-btn">🔑 Admin</button>
        </nav>
    </header>

    <main>
        <section class="stats card">
            <p>📊 Tổng số sản phẩm: <span id="totalProducts">0</span></p>
            <p>💰 Doanh thu tạm tính: <span id="totalRevenue">0</span> đ</p>
        </section>

        <section class="add-product card">
            <h2>➕ Thêm sản phẩm</h2>
            <input type="text" id="productName" placeholder="Tên sản phẩm">
            <input type="number" id="productPrice" placeholder="Giá sản phẩm">
            <textarea id="productDesc" placeholder="Mô tả sản phẩm"></textarea>
            <button onclick="addProduct()">Thêm</button>
        </section>

        <section class="search">
            <input type="text" id="searchProduct" placeholder="🔍 Tìm kiếm sản phẩm...">
        </section>

        <section class="products">
            <div id="productList" class="product-grid">
                </div>
        </section>
    </main>

    <div id="cartOverlay" class="overlay">
        <div class="cart card">
            <h2>🛒 Giỏ hàng</h2>
            <ul id="cartItems"></ul>
            <p><b>Tổng cộng:</b> <span id="totalPrice">0</span> đ</p>
            <button onclick="toggleCart()">Đóng</button>
        </div>
    </div>

    <div id="adminLoginPopup" class="overlay">
        <div class="popup card">
            <h2>🔑 Đăng nhập Admin</h2>
            <input type="password" id="adminPassword" placeholder="Nhập mật khẩu">
            <button onclick="adminLogin()">Đăng nhập</button>
            <button onclick="closeAdminLogin()">Đóng</button>
        </div>
    </div>

    <div id="productDetailOverlay" class="overlay">
        <div class="popup card">
            <h2 id="detailName"></h2>
            <p><b>Giá:</b> <span id="detailPrice"></span> đ</p>
            <p><b>Mô tả:</b> <span id="detailDesc"></span></p>
            <button onclick="closeProductDetail()">Đóng</button>
        </div>
    </div>

    <div id="editProductOverlay" class="overlay">
        <div class="popup card">
            <h2>✏️ Sửa sản phẩm</h2>
            <input type="hidden" id="editProductId">
            <input type="text" id="editProductName" placeholder="Tên sản phẩm">
            <input type="number" id="editProductPrice" placeholder="Giá sản phẩm">
            <textarea id="editProductDesc" placeholder="Mô tả sản phẩm"></textarea>
            <button onclick="saveEditedProduct()">Lưu</button>
            <button onclick="closeEditProduct()">Hủy</button>
        </div>
    </div>

    <div id="footer-info">
        <div id="datetime"></div>
        <div id="weather"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
